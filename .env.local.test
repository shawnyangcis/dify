# ================================================
# Dify Local SSO Testing Configuration
# ================================================
# Copy this file to .env to test SSO with mock server

# Basic Dify Configuration
SECRET_KEY=sk-9f73s3ljTXVcMT3Blb3ljTqtsKiGHXVcMT3BlbkFJLK7U
CONSOLE_API_URL=http://localhost:5001
CONSOLE_WEB_URL=http://localhost:3000
SERVICE_API_URL=http://localhost:5001
APP_API_URL=http://localhost:5001
APP_WEB_URL=http://localhost:3000

# Database Configuration (using local SQLite for testing)
DB_USERNAME=
DB_PASSWORD=
DB_HOST=
DB_PORT=
DB_DATABASE=

# Redis Configuration (optional for local testing)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ================================================
# Custom SSO Configuration - Local Mock Server
# ================================================

# Enable SSO functionality
SSO_ENABLED=true

# Mock SSO Server endpoints (running on localhost:8000)
SSO_AUTH_ENDPOINT=http://localhost:8000/oauth/authorize
SSO_TOKEN_ENDPOINT=http://localhost:8000/oauth/token
SSO_USERINFO_ENDPOINT=http://localhost:8000/oauth/userinfo

# Mock OAuth credentials (matching the mock server)
SSO_CLIENT_ID=test_client_id
SSO_CLIENT_SECRET=test_client_secret

# Local callback URI (Dify API endpoint)
SSO_REDIRECT_URI=http://localhost:5001/console/api/oauth/authorize/sso

# OAuth scopes (empty for mock server)
SSO_SCOPES=

# ================================================
# Login Configuration
# ================================================
ENABLE_EMAIL_CODE_LOGIN=true
ENABLE_EMAIL_PASSWORD_LOGIN=true  
ENABLE_SOCIAL_OAUTH_LOGIN=false
ALLOW_REGISTER=true
ALLOW_CREATE_WORKSPACE=true

# ================================================
# Development Settings
# ================================================
DEBUG=true
FLASK_DEBUG=true
LOG_LEVEL=DEBUG
ENABLE_REQUEST_LOGGING=true

# Skip email setup for local testing
MAIL_TYPE=
MAIL_DEFAULT_SEND_FROM=

# File storage (local for testing)
STORAGE_TYPE=local
STORAGE_LOCAL_PATH=storage

# ================================================
# Other Settings (keep defaults for testing)
# ================================================
MIGRATION_ENABLED=true
DEPLOY_ENV=TESTING
CHECK_UPDATE_URL=